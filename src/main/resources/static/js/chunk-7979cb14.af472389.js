(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7979cb14"],{"1d78":function(e,t,i){"use strict";var a=i("b9ba"),n=i.n(a);n.a},"320f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notice-mgr"},[i("div",{staticClass:"title"},[i("span",{staticClass:"title-text"},[e._v("通 知 管 理")]),i("span",{staticClass:"title-text-small"},[e._v("Notice Management")]),i("div",{staticClass:"title-btn"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增通知",placement:"left"}},[i("el-button",{attrs:{type:"success",icon:"el-icon-plus",circle:""},on:{click:e.handleCreateOpen}})],1)],1)]),i("el-divider"),i("div",{ref:"noticeTable",staticClass:"notice"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.noticeLoading,expression:"noticeLoading"}],staticStyle:{width:"100%"},attrs:{data:e.noticeList,"max-height":e.noticeListHeight}},[i("el-table-column",{attrs:{prop:"nid",label:"ID","min-width":"30",sortable:""}}),i("el-table-column",{attrs:{prop:"ncont",label:"内容","min-width":"80"}}),i("el-table-column",{attrs:{prop:"ntime",label:"时间","min-width":"50",sortable:"",formatter:e.dateFormat}}),i("el-table-column",{attrs:{prop:"uid",label:"用户ID","min-width":"30",sortable:""}}),i("el-table-column",{attrs:{label:"操作","min-width":"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.row.nid)}}})]}}])})],1)],1),i("el-dialog",{attrs:{title:"新 增 分 区",visible:e.createDialogVisible,width:"40%",top:"15vh","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"destroy-on-close":!0,center:""},on:{"update:visible":function(t){e.createDialogVisible=t}}},[i("div",{staticClass:"createNoticeDiv"},[i("el-form",{ref:"createNotice",attrs:{"label-position":"left",model:e.noticeCreate,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"用户ID"}},[i("el-input",{model:{value:e.noticeCreate.uid,callback:function(t){e.$set(e.noticeCreate,"uid",t)},expression:"noticeCreate.uid"}})],1),i("el-form-item",{attrs:{label:"内容"}},[i("el-input",{attrs:{type:"textarea",maxlength:"192",autosize:{minRows:6,maxRows:10},"show-word-limit":""},model:{value:e.noticeCreate.ncont,callback:function(t){e.$set(e.noticeCreate,"ncont",t)},expression:"noticeCreate.ncont"}})],1)],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleCreateClose}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.createNotice}},[e._v("确 定")])],1)])],1)},n=[],o=i("7f45"),s=i.n(o),c={name:"NoticeMgr",data:function(){return{noticeList:[],noticeListHeight:.75*window.innerHeight,noticeLoading:!0,noticeCreate:{ncont:"",uid:0},createDialogVisible:!1}},created:function(){this.getNoticeList()},methods:{handleCreateOpen:function(){this.noticeCreate.uid=0,this.noticeCreate.ncont="",this.createDialogVisible=!0},handleCreateClose:function(){this.noticeCreate.uid=0,this.noticeCreate.ncont="",this.createDialogVisible=!1},handleDelete:function(e){var t=this;this.$confirm("确认删除通知（ID："+e+"）?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteNotice(e)}))},dateFormat:function(e,t){var i=e[t.property];return void 0===i?"":s()(i).tz("Asia/Shanghai").format("YYYY-MM-DD HH:mm:ss")},getNoticeList:function(){var e=this;this.noticeLoading=!0,this.$axios.get("/api/notice").then((function(t){1===t.data.code?e.noticeList=t.data.data:e.$message({message:"系统错误",type:"error"}),e.noticeLoading=!1})).catch((function(){e.$message({message:"网络错误",type:"error"})}))},deleteNotice:function(e){var t=this;this.$axios.delete("/api/notice/"+e).then((function(e){1===e.data.code?t.$message({message:"删除成功",type:"success"}):t.$message({message:"系统错误或权限不足",type:"error"}),t.getNoticeList()})).catch((function(){t.$message({message:"网络错误",type:"error"})}))},createNotice:function(){var e=this;this.$axios.post("/api/notice",this.noticeCreate).then((function(t){1===t.data.code?e.$message({message:"新增成功",type:"success"}):e.$message({message:"系统错误或权限不足",type:"error"}),e.handleCreateClose(),e.getNoticeList()})).catch((function(){e.$message({message:"网络错误",type:"error"})}))}}},l=c,r=(i("1d78"),i("2877")),d=Object(r["a"])(l,a,n,!1,null,"a1769dfe",null);t["default"]=d.exports},b9ba:function(e,t,i){}}]);
//# sourceMappingURL=chunk-7979cb14.af472389.js.map