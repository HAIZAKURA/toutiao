{"version":3,"sources":["webpack:///./src/views/Login.vue?edb4","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e994"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","loginForm","ref","model","value","callback","$$v","$set","expression","nativeOn","$event","type","indexOf","_k","keyCode","key","loginFunc","on","staticRenderFns","component"],"mappings":"8IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,eAAe,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,UAAU,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACJ,EAAG,OAAO,CAACJ,EAAIS,GAAG,cAAcL,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,iBAAiB,OAAO,cAAc,OAAO,MAAQP,EAAIU,YAAY,CAACN,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,WAAW,CAACO,IAAI,aAAaJ,MAAM,CAAC,KAAO,OAAO,UAAY,IAAIK,MAAM,CAACC,MAAOb,EAAIU,UAAe,MAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,UAAW,QAASK,IAAME,WAAW,sBAAsB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,UAAY,IAAIW,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQrB,EAAIsB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcxB,EAAIyB,UAAUN,KAAUP,MAAM,CAACC,MAAOb,EAAIU,UAAe,MAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,UAAW,QAASK,IAAME,WAAW,sBAAsB,IAAI,GAAGb,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWmB,GAAG,CAAC,MAAQ1B,EAAIyB,YAAY,CAACzB,EAAIS,GAAG,SAAS,MAAM,MAAM,IACprCkB,EAAkB,G,wBC+BtB,GACE,KAAF,QACE,KAFF,WAGI,MAAJ,CACM,UAAN,CACQ,MAAR,GACQ,MAAR,MAIE,SAAF,kBACA,uCAEE,QAAF,WAAI,IAAJ,OACI,KAAJ,yBACA,kBACA,iBACQ,EAAR,wBACQ,EAAR,4BACQ,EAAR,wBACQ,EAAR,cAAU,KAAV,QAEQ,EAAR,aACQ,EAAR,eACQ,EAAR,iBAGA,kBACM,EAAN,UACQ,QAAR,OACQ,KAAR,cAIE,QAAF,WACI,KAAJ,0BAEE,QAAF,gBACI,UADJ,WACM,IAAN,OACM,KAAN,+CACA,kBACA,iBACU,EAAV,wBACU,EAAV,4BACU,EAAV,wBACU,EAAV,UACY,QAAZ,cACY,KAAZ,YAEU,YAAV,WACY,EAAZ,cAAc,KAAd,QACA,MAEU,EAAV,UACY,QAAZ,WACY,KAAZ,aAIA,kBACQ,EAAR,UACU,QAAV,OACU,KAAV,eAIA,iDClG+U,I,wBCQ3UC,EAAY,eACd,EACA7B,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,yBAAuiB,EAAG","file":"js/chunk-65ed06b4.7b28f076.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('el-container',[_c('div',{staticClass:\"login-div\"},[_c('el-card',{staticClass:\"login-box box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"管理系统登录\")])]),_c('div',{staticClass:\"item\"},[_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"60px\",\"model\":_vm.loginForm}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{ref:\"unameInput\",attrs:{\"type\":\"text\",\"clearable\":\"\"},model:{value:(_vm.loginForm.uname),callback:function ($$v) {_vm.$set(_vm.loginForm, \"uname\", $$v)},expression:\"loginForm.uname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.loginFunc($event)}},model:{value:(_vm.loginForm.upass),callback:function ($$v) {_vm.$set(_vm.loginForm, \"upass\", $$v)},expression:\"loginForm.upass\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loginFunc}},[_vm._v(\"登录\")])],1)])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <el-container>\n      <div class=\"login-div\">\n        <el-card class=\"login-box box-card\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>管理系统登录</span>\n          </div>\n          <div class=\"item\">\n            <el-form\n              label-position=\"left\"\n              label-width=\"60px\"\n              :model=\"loginForm\"\n            >\n              <el-form-item label=\"用户名\">\n                <el-input type=\"text\" ref=\"unameInput\" clearable v-model=\"loginForm.uname\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"密码\">\n                <el-input type=\"password\" clearable v-model=\"loginForm.upass\" @keyup.enter.native=\"loginFunc\"></el-input>\n              </el-form-item>\n            </el-form>\n            <el-button type=\"primary\" @click=\"loginFunc\">登录</el-button>\n          </div>\n        </el-card>\n      </div>\n    </el-container>\n  </div>\n</template>\n\n<script>\n  import { mapGetters, mapActions } from 'vuex'\n\n  export default {\n    name: 'Login',\n    data() {\n      return {\n        loginForm: {\n          uname: '',\n          upass: ''\n        }\n      }\n    },\n    computed: {\n      ...mapGetters(['uid', 'uname', 'aid'])\n    },\n    created: function() {\n      this.$axios.get('/api/check')\n        .then(res => {\n          if (res.data.code === 1) {\n            this.setUid(res.data.data.uid)\n            this.setUname(res.data.data.uname)\n            this.setAid(res.data.data.aid)\n            this.$router.push({ path: '/' })\n          } else {\n            this.setUid(null)\n            this.setUname(null)\n            this.setAid(null)\n          }\n        })\n        .catch(() => {\n          this.$message({\n            message: '网络错误',\n            type: 'error'\n          })\n        })\n    },\n    mounted: function () {\n      this.$refs.unameInput.focus()\n    },\n    methods: {\n      loginFunc() {\n        this.$axios.post('/api/admin/login', this.loginForm)\n          .then(res => {\n            if (res.data.code === 1) {\n              this.setUid(res.data.data.uid)\n              this.setUname(res.data.data.uname)\n              this.setAid(res.data.data.aid)\n              this.$message({\n                message: '登录成功，跳转中...',\n                type: 'success'\n              })\n              setTimeout(() => {\n                this.$router.push({ path: '/' })\n              }, 1000)\n            } else {\n              this.$message({\n                message: '用户名或密码错误',\n                type: 'error'\n              })\n            }\n          })\n          .catch(() => {\n            this.$message({\n              message: '网络错误',\n              type: 'error'\n            })\n          })\n      },\n      ...mapActions(['setUid', 'setUname', 'setAid'])\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  .login\n    background-color #242327\n    height 100vh\n    width 100vw\n\n  .clearfix:before,\n  .clearfix:after\n    display table\n    content \"\"\n\n  .clearfix:after\n    clear both\n\n  .item\n    margin-bottom 1em\n\n  .login-div\n    margin-left auto\n    margin-right auto\n    margin-top 15%\n\n  .login-box\n    min-width 400px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=55af9356&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=55af9356&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55af9356\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=55af9356&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=55af9356&lang=stylus&scoped=true&\""],"sourceRoot":""}