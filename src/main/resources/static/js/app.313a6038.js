(function(e){function t(t){for(var a,i,c=t[0],s=t[1],o=t[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(d.length)d.shift()();return u.push.apply(u,o||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},r={app:0},u=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"02b0f18c","chunk-43215a2a":"a542c9b5","chunk-2f866c18":"7d52dd0a","chunk-304c90a0":"de6ab9c2","chunk-6f17cd6d":"36eb6768","chunk-7979cb14":"af472389","chunk-65ed06b4":"7b28f076","chunk-67c6d8fb":"e0c1c37f","chunk-711ab235":"117184c2","chunk-7b29109a":"5c5b918f"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1,"chunk-2f866c18":1,"chunk-304c90a0":1,"chunk-6f17cd6d":1,"chunk-7979cb14":1,"chunk-65ed06b4":1,"chunk-67c6d8fb":1,"chunk-711ab235":1,"chunk-7b29109a":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"0c1dff2a","chunk-43215a2a":"31d6cfe0","chunk-2f866c18":"fb479f63","chunk-304c90a0":"a1a2bed5","chunk-6f17cd6d":"741aff23","chunk-7979cb14":"754496d1","chunk-65ed06b4":"6b790037","chunk-67c6d8fb":"8f1afc91","chunk-711ab235":"4472a53d","chunk-7b29109a":"b80fd0a6"}[e]+".css",r=s.p+a,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var o=u[c],l=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(l===a||l===r))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){o=d[c],l=o.getAttribute("data-href");if(l===a||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=a,delete i[e],f.parentNode.removeChild(f),n(u)},f.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){i[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var u=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=u);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var f=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1f6d":function(e,t,n){},"31a5":function(e,t,n){},3909:function(e,t,n){"use strict";var a=n("98e8"),i=n.n(a);i.a},"56d7":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"uid",(function(){return ie})),n.d(a,"uname",(function(){return re})),n.d(a,"aid",(function(){return ue}));var i={};n.r(i),n.d(i,"setUid",(function(){return le})),n.d(i,"setUname",(function(){return de})),n.d(i,"setAid",(function(){return fe}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],s=(n("7faf"),n("2877")),o={},l=Object(s["a"])(o,u,c,!1,null,null,null),d=l.exports,f=n("5c96"),m=n.n(f),h=(n("0fae"),n("d3b7"),n("8c4f")),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("el-container",[n("el-aside",{staticClass:"aside"},[n("aside-menu")],1),n("el-container",[n("el-header",{staticClass:"header"},[n("header-menu")],1),n("el-main",{staticClass:"main"},[n("router-view")],1)],1)],1),e.isExpire?n("expire-cover"):e._e()],1)},b=[],v=n("5530"),g=n("2f62"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"expire-cover"},[n("div",{staticClass:"expire-cover-content"},[e._m(0),n("div",{staticClass:"expire-cover-content-btn"},[n("el-button",{attrs:{type:"primary"},on:{click:e.reLogin}},[e._v("重新登录")])],1)])])},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"expire-cover-content-text"},[n("span",[n("i",{staticClass:"el-icon-warning-outline"}),e._v("会话已过期")])])}],C={name:"ExpireCover",methods:Object(v["a"])({reLogin:function(){this.setUid(null),this.setUname(null),this.setAid(null),this.$router.push({path:"/login"})}},Object(g["b"])(["setUid","setUname","setAid"]))},x=C,y=(n("b264"),Object(s["a"])(x,k,_,!1,null,"58fda844",null)),O=y.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"aside-menu"},[a("el-menu",{staticClass:"aside-el-menu",attrs:{"background-color":"#242327","text-color":"#fff","active-text-color":"#ffd04b","default-active":"/","unique-opened":"",router:""}},[a("div",{staticClass:"aside-logo"},[a("div",{staticClass:"blank10"}),a("img",{attrs:{src:n("cf05"),alt:"Dashboard"}}),a("div",{staticClass:"blank20"})]),a("el-menu-item",{staticClass:"aside-menu-item",attrs:{index:"/"}},[a("i",{staticClass:"el-icon-odometer"}),a("span",[e._v(" 总 览")])]),a("el-submenu",{staticClass:"aside-menu-item",attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document-copy"}),a("span",[e._v(" 内 容")])]),a("el-menu-item",{staticClass:"aside-submenu-item",attrs:{index:"thread"}},[a("span",[e._v("主 题 管 理")])]),a("el-menu-item",{staticClass:"aside-submenu-item",attrs:{index:"forum"}},[a("span",[e._v("分 区 管 理")])]),a("el-menu-item",{staticClass:"aside-submenu-item",attrs:{index:"comm"}},[a("span",[e._v("评 论 管 理")])])],2),4===e.aid||3===e.aid?a("el-submenu",{staticClass:"aside-menu-item",attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user"}),a("span",[e._v(" 用 户")])]),a("el-menu-item",{staticClass:"aside-submenu-item",attrs:{index:"user"}},[a("span",[e._v("用 户 管 理")])]),a("el-menu-item",{staticClass:"aside-submenu-item",staticStyle:{display:"none"},attrs:{index:"blacklist"}},[a("span",[e._v("封 禁 用 户")])])],2):e._e(),4===e.aid||3===e.aid?a("el-menu-item",{staticClass:"aside-menu-item",attrs:{index:"notice"}},[a("i",{staticClass:"el-icon-news"}),a("span",[e._v(" 通 知")])]):e._e(),a("el-menu-item",{staticClass:"aside-menu-item",attrs:{index:"about"}},[a("i",{staticClass:"el-icon-help"}),a("span",[e._v(" 关 于")])])],1)],1)},U=[],w={name:"AsideMenu",computed:Object(v["a"])({},Object(g["c"])(["uid","uname","aid"]))},E=w,A=(n("3909"),Object(s["a"])(E,j,U,!1,null,"196d2db0",null)),S=A.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-menu"},[n("div",{staticClass:"header-tool"},[n("div",{staticClass:"header-tool-item"},[n("span",{staticClass:"header-user"},[e._v(e._s(e.uname))]),n("el-button",{attrs:{type:"danger",size:"medium",round:""},on:{click:e.logout}},[e._v("登出")])],1)])])},M=[],P={name:"HeaderMenu",computed:Object(v["a"])({},Object(g["c"])(["uid","uname","aid"])),methods:Object(v["a"])({logout:function(){var e=this;this.$axios.get("/api/logout").then((function(t){1===t.data.code?(e.setUid(null),e.setUname(null),e.setAid(null),e.$router.push({path:"/login"})):e.$message({message:"系统错误",type:"error",offset:70})})).catch((function(){e.$message({message:"网络错误",type:"error",offset:70})}))}},Object(g["b"])(["setUid","setUname","setAid"]))},T=P,I=(n("b383"),Object(s["a"])(T,$,M,!1,null,"604eee58",null)),L=I.exports,N={name:"Home",components:{ExpireCover:O,AsideMenu:S,HeaderMenu:L},data:function(){return{isExpire:!1}},computed:Object(v["a"])({},Object(g["c"])(["uid","uname","aid"])),mounted:function(){var e=this;this.$axios.get("/api/check").then((function(t){1===t.data.code?(e.setUid(t.data.data.uid),e.setUname(t.data.data.uname),e.setAid(t.data.data.aid)):(e.setUid(null),e.setUname(null),e.setAid(null),e.$router.push({path:"/login"}))})).catch((function(){e.$message({message:"网络错误",type:"error"})}));var t=setInterval((function(){e.$axios.get("/api/check").then((function(n){1===n.data.code?(e.setUid(n.data.data.uid),e.setUname(n.data.data.uname),e.setAid(n.data.data.aid)):(e.setUid(null),e.setUname(null),e.setAid(null),e.isExpire=!0,clearInterval(t))}))}),6e4)},methods:Object(v["a"])({},Object(g["b"])(["setUid","setUname","setAid"]))},D=N,H=(n("70b1"),Object(s["a"])(D,p,b,!1,null,"30588cd2",null)),B=H.exports;r["default"].use(h["a"]);var q=[{path:"/",name:"Home",component:B,children:[{path:"/",name:"Dash",component:function(){return n.e("chunk-7b29109a").then(n.bind(null,"8e42"))}},{path:"/thread",name:"ThreadMgr",component:function(){return Promise.all([n.e("chunk-43215a2a"),n.e("chunk-2f866c18")]).then(n.bind(null,"c972"))}},{path:"/forum",name:"ForumMgr",component:function(){return n.e("chunk-711ab235").then(n.bind(null,"8ec8"))}},{path:"/comm",name:"CommMgr",component:function(){return Promise.all([n.e("chunk-43215a2a"),n.e("chunk-6f17cd6d")]).then(n.bind(null,"6d5c"))}},{path:"/user",name:"UserMgr",component:function(){return Promise.all([n.e("chunk-43215a2a"),n.e("chunk-304c90a0")]).then(n.bind(null,"91e2"))}},{path:"/blacklist",name:"UserBlack",component:function(){return n.e("chunk-67c6d8fb").then(n.bind(null,"6845"))}},{path:"/notice",name:"NoticeMgr",component:function(){return Promise.all([n.e("chunk-43215a2a"),n.e("chunk-7979cb14")]).then(n.bind(null,"320f"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-65ed06b4").then(n.bind(null,"a55b"))}}],J=new h["a"]({routes:q}),F=J,z=window.localStorage,K={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(z)return z.getItem(e)?Array.isArray(t)?JSON.parse(z.getItem(e)):z.getItem(e):t},set:function(e,t){z&&z.setItem(e,t)},clear:function(e){z&&z.removeItem(e)}},G="_uid_";function Q(){return String(K.get(G,null))}function R(e){return K.set(G,e),e}var V="_uname_";function W(){return String(K.get(V,null))}function X(e){return K.set(V,e),e}var Y="_aid_";function Z(){return String(K.get(Y,null))}function ee(e){return K.set(Y,e),e}var te,ne={uid:Q()||null,uname:W()||null,aid:Z()||null},ae=ne,ie=function(e){return e.uid},re=function(e){return e.uname},ue=function(e){return e.aid},ce="SET_UID",se="SET_UNAME",oe="SET_AID",le=function(e,t){var n=e.commit;n(ce,R(t))},de=function(e,t){var n=e.commit;n(se,X(t))},fe=function(e,t){var n=e.commit;n(oe,ee(t))},me=n("ade3"),he=(te={},Object(me["a"])(te,ce,(function(e,t){e.uid=t})),Object(me["a"])(te,se,(function(e,t){e.uname=t})),Object(me["a"])(te,oe,(function(e,t){e.aid=t})),te),pe=he;r["default"].use(g["a"]);var be=new g["a"].Store({state:ae,getters:a,actions:i,mutations:pe}),ve=n("bc3a"),ge=n.n(ve);r["default"].config.productionTip=!1,r["default"].use(m.a),r["default"].prototype.$axios=ge.a,new r["default"]({router:F,store:be,render:function(e){return e(d)}}).$mount("#app")},"70b1":function(e,t,n){"use strict";var a=n("b435"),i=n.n(a);i.a},"7faf":function(e,t,n){"use strict";var a=n("b8ff"),i=n.n(a);i.a},"98e8":function(e,t,n){},b264:function(e,t,n){"use strict";var a=n("31a5"),i=n.n(a);i.a},b383:function(e,t,n){"use strict";var a=n("1f6d"),i=n.n(a);i.a},b435:function(e,t,n){},b8ff:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.313a6038.js.map