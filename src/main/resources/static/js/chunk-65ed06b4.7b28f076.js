(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65ed06b4"],{2999:function(e,t,a){},a55b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-container",[a("div",{staticClass:"login-div"},[a("el-card",{staticClass:"login-box box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("管理系统登录")])]),a("div",{staticClass:"item"},[a("el-form",{attrs:{"label-position":"left","label-width":"60px",model:e.loginForm}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{ref:"unameInput",attrs:{type:"text",clearable:""},model:{value:e.loginForm.uname,callback:function(t){e.$set(e.loginForm,"uname",t)},expression:"loginForm.uname"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginFunc(t)}},model:{value:e.loginForm.upass,callback:function(t){e.$set(e.loginForm,"upass",t)},expression:"loginForm.upass"}})],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.loginFunc}},[e._v("登录")])],1)])],1)])],1)},s=[],i=a("5530"),o=a("2f62"),l={name:"Login",data:function(){return{loginForm:{uname:"",upass:""}}},computed:Object(i["a"])({},Object(o["c"])(["uid","uname","aid"])),created:function(){var e=this;this.$axios.get("/api/check").then((function(t){1===t.data.code?(e.setUid(t.data.data.uid),e.setUname(t.data.data.uname),e.setAid(t.data.data.aid),e.$router.push({path:"/"})):(e.setUid(null),e.setUname(null),e.setAid(null))})).catch((function(){e.$message({message:"网络错误",type:"error"})}))},mounted:function(){this.$refs.unameInput.focus()},methods:Object(i["a"])({loginFunc:function(){var e=this;this.$axios.post("/api/admin/login",this.loginForm).then((function(t){1===t.data.code?(e.setUid(t.data.data.uid),e.setUname(t.data.data.uname),e.setAid(t.data.data.aid),e.$message({message:"登录成功，跳转中...",type:"success"}),setTimeout((function(){e.$router.push({path:"/"})}),1e3)):e.$message({message:"用户名或密码错误",type:"error"})})).catch((function(){e.$message({message:"网络错误",type:"error"})}))}},Object(o["b"])(["setUid","setUname","setAid"]))},r=l,u=(a("c0b0"),a("2877")),c=Object(u["a"])(r,n,s,!1,null,"55af9356",null);t["default"]=c.exports},c0b0:function(e,t,a){"use strict";var n=a("2999"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-65ed06b4.7b28f076.js.map