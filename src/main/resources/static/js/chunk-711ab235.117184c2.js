(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-711ab235"],{"505b":function(e,t,a){},6396:function(e,t,a){"use strict";var i=a("505b"),s=a.n(i);s.a},"8ec8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum-mgr"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("分 区 管 理")]),a("span",{staticClass:"title-text-small"},[e._v("Forum Management")]),a("div",{staticClass:"title-btn"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增分区",placement:"left"}},[a("el-button",{attrs:{type:"success",icon:"el-icon-plus",circle:""},on:{click:e.handleCreateOpen}})],1)],1)]),a("el-divider"),a("div",{ref:"forumTable",staticClass:"forum"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.forumLoading,expression:"forumLoading"}],staticStyle:{width:"100%"},attrs:{data:e.forumList,"max-height":e.forumListHeight}},[a("el-table-column",{attrs:{prop:"fid",label:"ID","min-width":"30",sortable:""}}),a("el-table-column",{attrs:{prop:"fname",label:"名称","min-width":"40"}}),a("el-table-column",{attrs:{prop:"fdesc",label:"描述"}}),a("el-table-column",{attrs:{label:"操作","min-width":"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"success"},on:{click:function(a){return e.handleEditOpen(t.row.fid)}}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row.fid)}}})]}}])})],1)],1),a("el-dialog",{attrs:{title:"新 增 分 区",visible:e.createDialogVisible,width:"40%",top:"15vh","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"destroy-on-close":!0,center:""},on:{"update:visible":function(t){e.createDialogVisible=t}}},[a("div",{staticClass:"createFormDiv"},[a("el-form",{ref:"createForm",attrs:{"label-position":"left",model:e.forumCreate,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":""},model:{value:e.forumCreate.fname,callback:function(t){e.$set(e.forumCreate,"fname",t)},expression:"forumCreate.fname"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",maxlength:"96",autosize:{minRows:6,maxRows:10},"show-word-limit":""},model:{value:e.forumCreate.fdesc,callback:function(t){e.$set(e.forumCreate,"fdesc",t)},expression:"forumCreate.fdesc"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCreateClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.createForum}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修 改 分 区",visible:e.editDialogVisible,width:"40%",top:"15vh","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"destroy-on-close":!0,center:""},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("div",{staticClass:"editormDiv"},[a("el-form",{ref:"createForm",attrs:{"label-position":"left",model:e.forumDetail,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{maxlength:"8","show-word-limit":""},model:{value:e.forumDetail.fname,callback:function(t){e.$set(e.forumDetail,"fname",t)},expression:"forumDetail.fname"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",maxlength:"96",autosize:{minRows:6,maxRows:10},"show-word-limit":""},model:{value:e.forumDetail.fdesc,callback:function(t){e.$set(e.forumDetail,"fdesc",t)},expression:"forumDetail.fdesc"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleEditClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editForum(e.forumDetail.fid)}}},[e._v("确 定")])],1)])],1)},s=[],o={name:"ForumMgr",data:function(){return{forumList:[],forumDetail:{fid:1,fname:"",fdesc:""},forumCreate:{fname:"",fdesc:""},forumListHeight:.75*window.innerHeight,forumLoading:!0,createDialogVisible:!1,editDialogVisible:!1}},created:function(){this.getForumList()},methods:{handleEditOpen:function(e){this.getForumDetail(e),this.editDialogVisible=!0},handleEditClose:function(){this.forumDetail.fid=1,this.forumDetail.fname="",this.forumDetail.fdesc="",this.editDialogVisible=!1},handleDelete:function(e){var t=this;this.$confirm("确认删除分区（ID："+e+"）?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteForum(e)}))},handleCreateOpen:function(){this.forumCreate.fname="",this.forumCreate.fdesc="",this.createDialogVisible=!0},handleCreateClose:function(){this.forumCreate.fname="",this.forumCreate.fdesc="",this.createDialogVisible=!1},getForumList:function(){var e=this;this.forumLoading=!0,this.$axios.get("/api/forum").then((function(t){1===t.data.code?e.forumList=t.data.data:e.$message({message:"系统错误",type:"error"}),e.forumLoading=!1})).catch((function(){e.$message({message:"网络错误",type:"error"})}))},getForumDetail:function(e){var t=this;this.$axios.get("/api/forum/"+e).then((function(e){1===e.data.code?t.forumDetail=e.data.data:t.$message({message:"系统错误",type:"error"})})).catch((function(){t.$message({message:"网络错误",type:"error"})}))},deleteForum:function(e){var t=this;this.$axios.delete("/api/forum/"+e).then((function(e){1===e.data.code?t.$message({message:"删除成功",type:"success"}):t.$message({message:"系统错误或权限不足",type:"error"}),t.getForumList()})).catch((function(){t.$message({message:"网络错误",type:"error"})}))},createForum:function(){var e=this;this.$axios.post("/api/forum",this.forumCreate).then((function(t){1===t.data.code?e.$message({message:"新增成功",type:"success"}):e.$message({message:"系统错误或权限不足",type:"error"}),e.handleCreateClose(),e.getForumList()})).catch((function(){e.$message({message:"网络错误",type:"error"})}))},editForum:function(e){var t=this;this.$axios.put("/api/forum/"+e,this.forumDetail).then((function(e){1===e.data.code?t.$message({message:"修改成功",type:"success"}):t.$message({message:"系统错误或权限不足",type:"error"}),t.handleEditClose(),t.getForumList()})).catch((function(){t.$message({message:"网络错误",type:"error"})}))}}},r=o,l=(a("6396"),a("2877")),n=Object(l["a"])(r,i,s,!1,null,"7926f196",null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-711ab235.117184c2.js.map